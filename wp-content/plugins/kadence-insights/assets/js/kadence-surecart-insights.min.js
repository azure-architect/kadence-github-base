(function(){"use strict";function a(a){if(!a)return!1;if("string"==typeof a&&400>=a.length)return a;try{let b=JSON.parse(a);if("object"==typeof b&&!Array.isArray(b)){for(const a=Object.entries(b);400<JSON.stringify(b).length&&0<a.length;){const[c]=a.shift();delete b[c]}return JSON.stringify(b)}return!1}catch(a){return!1}}const b={},c={allowTracking:!0,prefix:"kad_",localStoreName:"kad-ab-test-sales-manager"},d=function(){const a=navigator.userAgent.toLowerCase(),b=window.innerWidth;return /mobile|android|iphone|ipod/.test(a)?"mobile":/ipad|tablet|kindle|playbook/.test(a)||480<b&&1024>=b?"tablet":"desktop"},e=function(){const a=localStorage.getItem(c.localStoreName);return!!a&&a};b.saleEvent=function(a,b,c){const e=new FormData;e.set("action","kadence_ab_sales_event"),e.set("type",a),e.set("data",b),e.set("sale",c),e.set("device",d()),e.set("_kadence_verify",kadenceABSaleConfig.ajax_nonce);fetch(kadenceABSaleConfig.ajax_url,{method:"POST",body:e}).then(a=>{if(200<=a.status&&400>a.status)return a.json()}).then(()=>{}).catch(function(){})},b.getAttributionData=function(){const b=a(e());return!!b&&b},window.addEventListener("scCheckoutCompleted",function(a){const c=a.detail,d=b.getAttributionData();d&&b.saleEvent("surecart",d,c.order)})})();