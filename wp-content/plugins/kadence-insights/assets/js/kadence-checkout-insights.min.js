(function(){"use strict";function a(a){if(!a)return!1;if("string"==typeof a&&400>=a.length)return a;try{let b=JSON.parse(a);if("object"==typeof b&&!Array.isArray(b)){for(const a=Object.entries(b);400<JSON.stringify(b).length&&0<a.length;){const[c]=a.shift();delete b[c]}return JSON.stringify(b)}return!1}catch(a){return!1}}function b(a){for(const b of document.querySelectorAll("wc-order-insight-inputs"))b.values=a}function c(a){window.wp&&window.wp.data&&window.wp.data.dispatch&&window.wc&&window.wc.wcBlocksData&&window.wp.data.dispatch(window.wc.wcBlocksData.CHECKOUT_STORE_KEY).__internalSetExtensionData("kadence/insights",a,!0)}function d(){try{localStorage.removeItem(g.localStoreName)}catch(a){console.log(a)}}function e(){if(window.wp&&window.wp.data&&"function"==typeof window.wp.data.subscribe){const a=window.wp.data.subscribe(function(){a();const b=f.getAttributionData();b&&c(b)},k)}}const f={},g={allowTracking:!0,lifetime:365,session:30,base64:!0,prefix:"kad_",localStoreName:"kad-ab-test-sales-manager"},h=document.querySelector.bind(document),i=a=>null===a||a===void 0?"":a,j=function(){const a=navigator.userAgent.toLowerCase(),b=window.innerWidth;return /mobile|android|iphone|ipod/.test(a)?"mobile":/ipad|tablet|kindle|playbook/.test(a)||480<b&&1024>=b?"tablet":"desktop"},k="wc/store/checkout",l=function(){const a=localStorage.getItem(g.localStoreName);return!!a&&a};f.getAttributionData=function(){const b=a(l());if(b){const a=j();return{kad_ab_variants:b,kad_ab_device:a}}return!1};f.setOrderABTracking=function(a){if(g.allowTracking=a,!a)d();else{const a=f.getAttributionData();a&&(b(a),c(a))}},f.setOrderABTracking(g.allowTracking);"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),window.customElements.define("wc-order-insight-inputs",class extends HTMLElement{constructor(){if(super(),this._fieldNames=["kad_ab_variants","kad_ab_device"],this.hasOwnProperty("_values")){let a=this.values;delete this.values,this.values=a||{}}}connectedCallback(){this.innerHTML="";const a=new DocumentFragment;for(const b of this._fieldNames){const c=document.createElement("input");c.type="hidden",c.name=`${b}`,c.value=i(this.values&&this.values[b]||""),a.appendChild(c)}this.appendChild(a)}set values(a){if(this._values=a,this.isConnected)for(const a of this._fieldNames){const b=this.querySelector(`input[name="${a}"]`);b?b.value=i(this.values[a]):console.warn(`Field "${a}" not found. `+`Most likely, the '<wc-order-insight-inputs>' element was manipulated.`)}}get values(){return this._values}})})();